{"split":"3","window":{"width":1536,"height":784,"top":0,"left":0,"isMaximized":true},"session.current":["zed::start","/script/building.js","/script/elevator.js"],"session.open":{"/script/elevator.js":{"scrollTop":1697,"scrollLeft":0,"selection":{"start":{"row":77,"column":35},"end":{"row":77,"column":35}},"lastUse":1479252242268,"undo":[[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":1,"column":28},"end":{"row":1,"column":29}},"text":","}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":1,"column":27},"end":{"row":1,"column":28}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":19,"column":14},"end":{"row":19,"column":48}},"text":"new Statistics(this.currentFloor);"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":14},"end":{"row":19,"column":15}},"text":"0"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":15},"end":{"row":19,"column":16}},"text":";"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":19,"column":15},"end":{"row":19,"column":16}},"text":";"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":19,"column":14},"end":{"row":19,"column":15}},"text":"0"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":19,"column":13},"end":{"row":19,"column":14}},"text":" "}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":19,"column":12},"end":{"row":19,"column":13}},"text":"="}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":19,"column":11},"end":{"row":19,"column":12}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":11},"end":{"row":19,"column":12}},"text":";"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":19,"column":11},"end":{"row":19,"column":12}},"text":";"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":11},"end":{"row":19,"column":12}},"text":" "}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":12},"end":{"row":19,"column":13}},"text":"="}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":13},"end":{"row":19,"column":14}},"text":" "}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":14},"end":{"row":19,"column":15}},"text":"n"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":15},"end":{"row":19,"column":16}},"text":"e"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":16},"end":{"row":19,"column":17}},"text":"w"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":17},"end":{"row":19,"column":18}},"text":" "}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":18},"end":{"row":19,"column":19}},"text":"S"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":19},"end":{"row":19,"column":20}},"text":"t"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":20},"end":{"row":19,"column":21}},"text":"a"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":21},"end":{"row":19,"column":22}},"text":"t"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":22},"end":{"row":19,"column":23}},"text":"i"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":23},"end":{"row":19,"column":24}},"text":"s"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":24},"end":{"row":19,"column":25}},"text":"c"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":25},"end":{"row":19,"column":26}},"text":"t"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":26},"end":{"row":19,"column":27}},"text":"i"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":27},"end":{"row":19,"column":28}},"text":"c"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":28},"end":{"row":19,"column":29}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":19,"column":28},"end":{"row":19,"column":29}},"text":"s"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":19,"column":27},"end":{"row":19,"column":28}},"text":"c"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":19,"column":26},"end":{"row":19,"column":27}},"text":"i"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":19,"column":25},"end":{"row":19,"column":26}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":25},"end":{"row":19,"column":26}},"text":"t"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":26},"end":{"row":19,"column":27}},"text":"i"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":27},"end":{"row":19,"column":28}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":19,"column":27},"end":{"row":19,"column":28}},"text":"c"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":19,"column":26},"end":{"row":19,"column":27}},"text":"i"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":19,"column":25},"end":{"row":19,"column":26}},"text":"t"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":19,"column":24},"end":{"row":19,"column":25}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":24},"end":{"row":19,"column":25}},"text":"t"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":25},"end":{"row":19,"column":26}},"text":"i"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":26},"end":{"row":19,"column":27}},"text":"c"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":27},"end":{"row":19,"column":28}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":28},"end":{"row":19,"column":30}},"text":"()"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":29},"end":{"row":19,"column":30}},"text":"c"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":30},"end":{"row":19,"column":31}},"text":"u"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":31},"end":{"row":19,"column":32}},"text":"r"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":32},"end":{"row":19,"column":33}},"text":"r"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":33},"end":{"row":19,"column":34}},"text":"e"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":34},"end":{"row":19,"column":35}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":35},"end":{"row":19,"column":36}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":19,"column":29},"end":{"row":19,"column":36}},"text":"current"},{"action":"insertText","range":{"start":{"row":19,"column":29},"end":{"row":19,"column":41}},"text":"currentFloor"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":42},"end":{"row":19,"column":43}},"text":";"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":29},"end":{"row":19,"column":30}},"text":"t"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":30},"end":{"row":19,"column":31}},"text":"h"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":31},"end":{"row":19,"column":32}},"text":"i"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":32},"end":{"row":19,"column":33}},"text":"s"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":33},"end":{"row":19,"column":34}},"text":"."}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":77,"column":38},"end":{"row":77,"column":40}},"text":"\"\""}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":77,"column":39},"end":{"row":77,"column":40}},"text":"E"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":77,"column":40},"end":{"row":77,"column":41}},"text":"L"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":77,"column":41},"end":{"row":77,"column":42}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":77,"column":42},"end":{"row":77,"column":43}},"text":"v"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":77,"column":43},"end":{"row":77,"column":44}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":77,"column":43},"end":{"row":77,"column":44}},"text":"a"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":77,"column":42},"end":{"row":77,"column":43}},"text":"v"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":77,"column":41},"end":{"row":77,"column":42}},"text":"e"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":77,"column":40},"end":{"row":77,"column":41}},"text":"L"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":77,"column":40},"end":{"row":77,"column":41}},"text":"l"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":77,"column":41},"end":{"row":77,"column":42}},"text":"e"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":77,"column":42},"end":{"row":77,"column":43}},"text":"v"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":77,"column":43},"end":{"row":77,"column":44}},"text":"a"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":77,"column":44},"end":{"row":77,"column":45}},"text":"t"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":77,"column":45},"end":{"row":77,"column":46}},"text":"o"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":77,"column":46},"end":{"row":77,"column":47}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":0,"column":0},"end":{"row":190,"column":0}},"nl":"\n","lines":["/*jshint esversion: 6 */","/*globals document, floors, Statistics */","/// <reference path=\"floors.js\" />","/// <reference path=\"person.js\" />","/// <reference path=\"stats.js\" />","","","var direction = {","\tUP: 1,","\tDOWN: -1,","\tNONE: 0","};","","function Elevator() {","\tthis.currentFloor = 0;","\tthis.capacity = 10;","\tthis.direction = direction.NONE;","\tthis.people = [];","\tthis.calledFloors = [];","\tthis.stats = new Statistics(this.currentFloor);","    ","    ","    ","\tthis.addCalled = function (floor) {","\t\tlet floorCalled = false;","\t\tfor (let i = 0; i < this.calledFloors.length; i++) {","\t\t\tfloorCalled = (this.calledFloors[i].number === floor.number);","\t\t\tif (floorCalled)","\t\t\t\tbreak;","\t\t}","\t\tif (!floorCalled)","\t\t\tthis.calledFloors.push(floor);","\t};","\tthis.wasCalled = function () {","\t\treturn (this.calledFloors.length > 0) || (this.people.length > 0);","\t};","\t","\tthis.incrementMovementForEachPerson = function(){","\t    ","\t    ","\t    for(let i = 0; i < this.people.length; i++){","\t        let person = this.people[i];","\t        person.stats.incrementMovement();","\t    }","\t    ","\t};","\t","\t","\tthis.moveNextFloor = function () {","\t\tif (this.wasCalled()) {","\t\t\tswitch (this.direction) {","\t\t\t\tcase direction.DOWN:","\t\t\t\t\tif (this.currentFloor > 0){","\t\t\t\t\t    this.stats.incrementMovement();","\t\t\t\t\t    ","\t\t\t\t\t    this.incrementMovementForEachPerson();","\t\t\t\t\t\tthis.currentFloor--;","\t\t\t\t\t}","\t\t\t\t\tbreak;","\t\t\t\tcase direction.UP:","\t\t\t\t\tif (this.currentFloor < floors.length){","\t\t\t\t\t    this.stats.incrementMovement();","                        this.incrementMovementForEachPerson();","\t\t\t\t\t\tthis.currentFloor++;","\t\t\t\t\t}","\t\t\t\t\tbreak;","\t\t\t\tcase direction.NONE:","\t\t\t\t    //this.countMovement = 0;","\t\t\t\t\tbreak;","\t\t\t\tdefault:","\t\t\t\t\tbreak;","\t\t\t}","\t\t} else{","\t\t\tthis.direction = direction.NONE;","\t\t\t//elevator statistiscs","\t\t\tthis.stats.incrementNumOfStops();","\t\t\tthis.stats.setFinalPos(this.currentFloor);","            this.stats.displayResults(\"Elevator\");","            ","\t\t}","\t};","\tthis.checkDirection = function () {","\t\tlet up = false;","\t\tlet down = false;","\t\tfor (let i = 0; i < this.calledFloors.length; i++) {","\t\t\tif (this.calledFloors[i].number > this.currentFloor)","\t\t\t\tup = true;","\t\t\tif (this.calledFloors[i].number < this.currentFloor)","\t\t\t\tdown = true;","\t\t}","\t\tlet peopleInThisFloor = floors[this.currentFloor].people;","\t\tfor (let i = 0; i < peopleInThisFloor.length; i++) {","\t\t\tif (peopleInThisFloor[i].waiting) {","\t\t\t\tif (peopleInThisFloor[i].destinationFloor > this.currentFloor)","\t\t\t\t\tup = true;","\t\t\t\tif (peopleInThisFloor[i].destinationFloor < this.currentFloor)","\t\t\t\t\tdown = true;","\t\t\t}","\t\t}","","\t\tif (this.calledFloors.length === 0)","\t\t\tthis.direction = direction.NONE;","\t\tif (((this.direction === direction.UP) || (this.direction === direction.NONE)) && (up))","\t\t\tthis.direction = direction.UP;","\t\telse if (((this.direction === direction.DOWN) || (this.direction === direction.NONE)) && (down))","\t\t\tthis.direction = direction.DOWN;","\t\telse","\t\t\tthis.direction = direction.NONE;","\t};","","\tthis.reloadPeople = function () {","\t\tthis.removePeople();","\t\tthis.getPeople();","\t\tthis.checkDirection();","","\t};","\tthis.getPeople = function () {","\t\tthis.checkDirection();","\t\tlet peopleOnThisFloor = floors[this.currentFloor].people;","\t\tfor (let i = 0; i < peopleOnThisFloor.length; i++) {","\t\t\t//check the capacity","\t\t\tif (this.people.length === this.capacity)","\t\t\t\tbreak;","\t\t\tif (peopleOnThisFloor[i].waiting && ((peopleOnThisFloor[i].direction() === this.direction) || (this.direction === direction.NONE))) {","\t\t\t\tpeopleOnThisFloor[i].waiting = false;","","\t\t\t\t//adicionar a pessoa no elevador.","\t\t\t\tthis.people.push(peopleOnThisFloor[i]);","\t\t\t\tthis.addCalled(floors[peopleOnThisFloor[i].destinationFloor]);","","\t\t\t\t//retirar a pessoa do andar\tremovePerson","\t\t\t\tfloors[this.currentFloor].removePerson(i);","\t\t\t\ti--;","\t\t\t}","\t\t}","\t\tthis.removeCalledFloors();","","\t};","\tthis.removePeople = function () {","\t\tfor (let i = 0; i < this.people.length; i++) {","\t\t\tlet person = this.people[i];","\t\t\tif (person.destinationFloor === this.currentFloor) {","\t\t\t\tperson.currentFloor = this.currentFloor;","\t\t\t\tconsole.log(\"The elevator has traveled \" + this.countMovement + \" floors\");","\t\t\t\tconsole.log(\"and it took \" + this.countMovement*2 + \" secs to arrive at floor \" +this.currentFloor  );","\t\t\t\t//moving the person to the floor.","\t\t\t\tif (this.currentFloor > 0) {","\t\t\t\t\tfloors[this.currentFloor].addPerson(person);","\t\t\t\t}","\t\t\t\t","\t\t\t\t//person statistics","\t\t\t\tperson.stats.setFinalPos(this.currentFloor);","\t\t\t\tperson.stats.displayResults(person.name);","\t\t\t\t","\t\t\t\t//removing person from the people array.","\t\t\t\tthis.people.splice(i, 1);","\t\t\t\ti--;","\t\t\t}","\t\t}","\t};","\tthis.removeCalledFloors = function () {","\t\tlet isAnyoneWaiting = false;","\t\tfor (let i = 0; i < floors[this.currentFloor].people.length; i++) {","\t\t\tif (floors[this.currentFloor].people[i].waiting) {","\t\t\t\tisAnyoneWaiting = true;","\t\t\t\tbreak;","\t\t\t}","\t\t}","\t\tif (!isAnyoneWaiting) {","\t\t\tfor (let i = 0; i < this.calledFloors.length; i++)","\t\t\t\tif (this.currentFloor === this.calledFloors[i].number)","\t\t\t\t\tthis.calledFloors.splice(i, 1);","\t\t}","","\t};","","\treturn this;","}","","function drawElevator(floor, previusFloor = 0) {","\tlet canvas = document.getElementById(\"canvas\");","\tlet ctx = canvas.getContext(\"2d\");","\tctx.save();","\tctx.beginPath();","\tctx.clearRect(481, 518 - (previusFloor * 55), 48, 50);","\tctx.fillStyle = \"blue\";","\tctx.fillRect(481, 518 - (floor * 55), 48, 50);","\tdrawPersonInTheElevator();","\tctx.restore();","}"]},{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":24}},"text":"/*jshint esversion: 6 */"},{"action":"insertText","range":{"start":{"row":0,"column":24},"end":{"row":1,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":1,"column":0},"end":{"row":153,"column":0}},"lines":["/*globals document, floors */","/// <reference path=\"floors.js\" />","/// <reference path=\"person.js\" />","","var direction = {","\tUP: 1,","\tDOWN: -1,","\tNONE: 0","};","","function Elevator() {","\tthis.currentFloor = 0;","\tthis.capacity = 10;","\tthis.direction = direction.NONE;","\tthis.people = [];","\tthis.calledFloors = [];","","\tthis.addCalled = function (floor) {","\t\tlet floorCalled = false;","\t\tfor (let i = 0; i < this.calledFloors.length; i++) {","\t\t\tfloorCalled = (this.calledFloors[i].number === floor.number);","\t\t\tif (floorCalled)","\t\t\t\tbreak;","\t\t}","\t\tif (!floorCalled)","\t\t\tthis.calledFloors.push(floor);","\t};","\tthis.wasCalled = function () {","\t\treturn (this.calledFloors.length > 0) || (this.people.length > 0);","\t};","\tthis.moveNextFloor = function () {","\t\tif (this.wasCalled()) {","\t\t\tswitch (this.direction) {","\t\t\t\tcase direction.DOWN:","\t\t\t\t\tif (this.currentFloor > 0)","\t\t\t\t\t\tthis.currentFloor--;","\t\t\t\t\tbreak;","\t\t\t\tcase direction.UP:","\t\t\t\t\tif (this.currentFloor < floors.length)","\t\t\t\t\t\tthis.currentFloor++;","\t\t\t\t\tbreak;","\t\t\t\tcase direction.NONE:","\t\t\t\t\tbreak;","\t\t\t\tdefault:","\t\t\t\t\tbreak;","\t\t\t}","\t\t} else","\t\t\tthis.direction = direction.NONE;","","\t};","\tthis.checkDirection = function () {","\t\tlet up = false;","\t\tlet down = false;","\t\tfor (let i = 0; i < this.calledFloors.length; i++) {","\t\t\tif (this.calledFloors[i].number > this.currentFloor)","\t\t\t\tup = true;","\t\t\tif (this.calledFloors[i].number < this.currentFloor)","\t\t\t\tdown = true;","\t\t}","\t\tlet peopleInThisFloor = floors[this.currentFloor].people;","\t\tfor (let i = 0; i < peopleInThisFloor.length; i++) {","\t\t\tif (peopleInThisFloor[i].waiting) {","\t\t\t\tif (peopleInThisFloor[i].destinationFloor > this.currentFloor)","\t\t\t\t\tup = true;","\t\t\t\tif (peopleInThisFloor[i].destinationFloor < this.currentFloor)","\t\t\t\t\tdown = true;","\t\t\t}","\t\t}","","\t\tif (this.calledFloors.length === 0)","\t\t\tthis.direction = direction.NONE;","\t\tif (((this.direction === direction.UP) || (this.direction === direction.NONE)) && (up))","\t\t\tthis.direction = direction.UP;","\t\telse if (((this.direction === direction.DOWN) || (this.direction === direction.NONE)) && (down))","\t\t\tthis.direction = direction.DOWN;","\t\telse","\t\t\tthis.direction = direction.NONE;","\t};","","\tthis.reloadPeople = function () {","\t\tthis.removePeople();","\t\tthis.getPeople();","\t\tthis.checkDirection();","","\t};","\tthis.getPeople = function () {","\t\tthis.checkDirection();","\t\tlet peopleOnThisFloor = floors[this.currentFloor].people;","\t\tfor (let i = 0; i < peopleOnThisFloor.length; i++) {","\t\t\t//check the capacity","\t\t\tif (this.people.length === this.capacity)","\t\t\t\tbreak;","\t\t\tif (peopleOnThisFloor[i].waiting && ((peopleOnThisFloor[i].direction() === this.direction) || (this.direction === direction.NONE))) {","\t\t\t\tpeopleOnThisFloor[i].waiting = false;","","\t\t\t\t//adicionar a pessoa no elevador.","\t\t\t\tthis.people.push(peopleOnThisFloor[i]);","\t\t\t\tthis.addCalled(floors[peopleOnThisFloor[i].destinationFloor]);","","\t\t\t\t//retirar a pessoa do andar\tremovePerson","\t\t\t\tfloors[this.currentFloor].removePerson(i);","\t\t\t\ti--;","\t\t\t}","\t\t}","\t\tthis.removeCalledFloors();","","\t};","\tthis.removePeople = function () {","\t\tfor (let i = 0; i < this.people.length; i++) {","\t\t\tlet person = this.people[i];","\t\t\tif (person.destinationFloor === this.currentFloor) {","\t\t\t\tperson.currentFloor = this.currentFloor;","\t\t\t\t//moving the person to the floor.","\t\t\t\tif (this.currentFloor > 0) {","\t\t\t\t\tfloors[this.currentFloor].addPerson(person);","\t\t\t\t}","\t\t\t\t//removing person from the people array.","\t\t\t\tthis.people.splice(i, 1);","\t\t\t\ti--;","\t\t\t}","\t\t}","\t};","\tthis.removeCalledFloors = function () {","\t\tlet isAnyoneWaiting = false;","\t\tfor (let i = 0; i < floors[this.currentFloor].people.length; i++) {","\t\t\tif (floors[this.currentFloor].people[i].waiting) {","\t\t\t\tisAnyoneWaiting = true;","\t\t\t\tbreak;","\t\t\t}","\t\t}","\t\tif (!isAnyoneWaiting) {","\t\t\tfor (let i = 0; i < this.calledFloors.length; i++)","\t\t\t\tif (this.currentFloor === this.calledFloors[i].number)","\t\t\t\t\tthis.calledFloors.splice(i, 1);","\t\t}","","\t};","","\treturn this;","}","","function drawElevator(floor, previusFloor = 0) {","\tlet canvas = document.getElementById(\"canvas\");","\tlet ctx = canvas.getContext(\"2d\");","\tctx.save();","\tctx.beginPath();","\tctx.clearRect(481, 518 - (previusFloor * 55), 48, 50);","\tctx.fillStyle = \"blue\";","\tctx.fillRect(481, 518 - (floor * 55), 48, 50);","\tdrawPersonInTheElevator();","\tctx.restore();","}"]}]}]],"redo":[]},"/script/person.js":{"scrollTop":0,"scrollLeft":0,"selection":{"start":{"row":15,"column":3},"end":{"row":15,"column":3}},"lastUse":1479252206528,"undo":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":44},"end":{"row":9,"column":45}},"text":"a"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":45},"end":{"row":9,"column":46}},"text":"t"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":46},"end":{"row":9,"column":47}},"text":"i"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":47},"end":{"row":9,"column":48}},"text":"o"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":48},"end":{"row":9,"column":49}},"text":"n"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":49},"end":{"row":9,"column":50}},"text":"F"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":50},"end":{"row":9,"column":51}},"text":"l"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":51},"end":{"row":9,"column":52}},"text":"o"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":52},"end":{"row":9,"column":53}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":53},"end":{"row":9,"column":54}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":9,"column":36},"end":{"row":9,"column":54}},"text":", destinationFloor"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":2,"column":0},"end":{"row":2,"column":33}},"text":"/// <reference path=\"stats.js\" />"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":9,"column":18},"end":{"row":9,"column":23}},"text":"stats"},{"action":"insertText","range":{"start":{"row":9,"column":18},"end":{"row":9,"column":19}},"text":"S"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":19},"end":{"row":9,"column":20}},"text":"t"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":20},"end":{"row":9,"column":21}},"text":"a"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":21},"end":{"row":9,"column":22}},"text":"t"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":22},"end":{"row":9,"column":23}},"text":"i"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":23},"end":{"row":9,"column":24}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":24},"end":{"row":9,"column":25}},"text":"t"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":25},"end":{"row":9,"column":26}},"text":"i"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":26},"end":{"row":9,"column":27}},"text":"c"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":27},"end":{"row":9,"column":28}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":1,"column":41},"end":{"row":1,"column":46}},"text":"stats"},{"action":"insertText","range":{"start":{"row":1,"column":41},"end":{"row":1,"column":42}},"text":"S"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":1,"column":42},"end":{"row":1,"column":43}},"text":"t"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":1,"column":43},"end":{"row":1,"column":44}},"text":"a"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":1,"column":44},"end":{"row":1,"column":45}},"text":"t"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":1,"column":45},"end":{"row":1,"column":46}},"text":"i"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":1,"column":46},"end":{"row":1,"column":47}},"text":"s"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":1,"column":47},"end":{"row":1,"column":48}},"text":"t"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":1,"column":48},"end":{"row":1,"column":49}},"text":"i"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":1,"column":49},"end":{"row":1,"column":50}},"text":"c"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":1,"column":50},"end":{"row":1,"column":51}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":9,"column":12},"end":{"row":9,"column":43}},"text":"= new Statistics(currentFloor);"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":9,"column":11},"end":{"row":9,"column":12}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":11},"end":{"row":9,"column":12}},"text":";"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":9,"column":11},"end":{"row":9,"column":12}},"text":";"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":11},"end":{"row":9,"column":12}},"text":" "}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":12},"end":{"row":9,"column":13}},"text":"n"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":13},"end":{"row":9,"column":14}},"text":"e"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":14},"end":{"row":9,"column":15}},"text":"w"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":15},"end":{"row":9,"column":16}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":9,"column":15},"end":{"row":9,"column":16}},"text":" "}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":9,"column":14},"end":{"row":9,"column":15}},"text":"w"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":9,"column":13},"end":{"row":9,"column":14}},"text":"e"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":9,"column":12},"end":{"row":9,"column":13}},"text":"n"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":9,"column":11},"end":{"row":9,"column":12}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":11},"end":{"row":9,"column":12}},"text":" "}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":12},"end":{"row":9,"column":13}},"text":"="}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":13},"end":{"row":9,"column":14}},"text":" "}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":14},"end":{"row":9,"column":15}},"text":"n"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":15},"end":{"row":9,"column":16}},"text":"e"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":16},"end":{"row":9,"column":17}},"text":"w"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":17},"end":{"row":9,"column":18}},"text":" "}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":18},"end":{"row":9,"column":19}},"text":"S"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":19},"end":{"row":9,"column":20}},"text":"t"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":20},"end":{"row":9,"column":21}},"text":"a"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":21},"end":{"row":9,"column":22}},"text":"t"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":22},"end":{"row":9,"column":23}},"text":"i"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":23},"end":{"row":9,"column":24}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":24},"end":{"row":9,"column":25}},"text":"t"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":25},"end":{"row":9,"column":26}},"text":"i"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":26},"end":{"row":9,"column":27}},"text":"c"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":27},"end":{"row":9,"column":28}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":28},"end":{"row":9,"column":30}},"text":"()"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":29},"end":{"row":9,"column":30}},"text":"c"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":30},"end":{"row":9,"column":31}},"text":"u"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":31},"end":{"row":9,"column":32}},"text":"r"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":32},"end":{"row":9,"column":33}},"text":"r"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":33},"end":{"row":9,"column":34}},"text":"e"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":34},"end":{"row":9,"column":35}},"text":"n"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":35},"end":{"row":9,"column":36}},"text":"t"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":36},"end":{"row":9,"column":37}},"text":"F"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":37},"end":{"row":9,"column":38}},"text":"L"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":38},"end":{"row":9,"column":39}},"text":"o"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":39},"end":{"row":9,"column":40}},"text":"o"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":40},"end":{"row":9,"column":41}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":9,"column":40},"end":{"row":9,"column":41}},"text":"r"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":9,"column":39},"end":{"row":9,"column":40}},"text":"o"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":9,"column":38},"end":{"row":9,"column":39}},"text":"o"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":9,"column":37},"end":{"row":9,"column":38}},"text":"L"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":37},"end":{"row":9,"column":38}},"text":"l"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":38},"end":{"row":9,"column":39}},"text":"o"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":39},"end":{"row":9,"column":40}},"text":"o"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":40},"end":{"row":9,"column":41}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":42},"end":{"row":9,"column":44}},"text":"''"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":9,"column":42},"end":{"row":9,"column":44}},"text":"''"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":42},"end":{"row":9,"column":43}},"text":";"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":29},"end":{"row":9,"column":30}},"text":"t"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":30},"end":{"row":9,"column":31}},"text":"h"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":31},"end":{"row":9,"column":32}},"text":"i"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":32},"end":{"row":9,"column":33}},"text":"s"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":33},"end":{"row":9,"column":34}},"text":"."}]}]],"redo":[]},"/UpDown.html":{"scrollTop":94,"scrollLeft":0,"selection":{"start":{"row":17,"column":6},"end":{"row":17,"column":6}},"lastUse":1479252134929,"undo":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":12,"column":49},"end":{"row":13,"column":0}},"text":"\r\n"},{"action":"insertText","range":{"start":{"row":13,"column":0},"end":{"row":13,"column":1}},"text":"\t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":13,"column":1},"end":{"row":13,"column":50}},"text":"<script src=\"script/functions.js\" defer></script>"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":13,"column":29},"end":{"row":13,"column":30}},"text":"s"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":13,"column":28},"end":{"row":13,"column":29}},"text":"n"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":13,"column":27},"end":{"row":13,"column":28}},"text":"o"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":13,"column":26},"end":{"row":13,"column":27}},"text":"i"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":13,"column":25},"end":{"row":13,"column":26}},"text":"t"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":13,"column":24},"end":{"row":13,"column":25}},"text":"c"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":13,"column":23},"end":{"row":13,"column":24}},"text":"n"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":13,"column":22},"end":{"row":13,"column":23}},"text":"u"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":13,"column":21},"end":{"row":13,"column":22}},"text":"f"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":13,"column":21},"end":{"row":13,"column":22}},"text":"s"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":13,"column":22},"end":{"row":13,"column":23}},"text":"t"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":13,"column":23},"end":{"row":13,"column":24}},"text":"a"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":13,"column":24},"end":{"row":13,"column":25}},"text":"t"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":13,"column":25},"end":{"row":13,"column":26}},"text":"s"}]}]],"redo":[]},"/script/building.js":{"scrollTop":0,"scrollLeft":0,"selection":{"start":{"row":1,"column":116},"end":{"row":1,"column":116}},"lastUse":1479251105623,"undo":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":46,"column":29},"end":{"row":46,"column":30}},"text":" "}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":46,"column":30},"end":{"row":46,"column":31}},"text":"n"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":46,"column":31},"end":{"row":46,"column":32}},"text":"e"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":46,"column":32},"end":{"row":46,"column":33}},"text":"w"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":46,"column":33},"end":{"row":46,"column":34}},"text":" "}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":46,"column":34},"end":{"row":46,"column":35}},"text":"S"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":46,"column":35},"end":{"row":46,"column":36}},"text":"t"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":46,"column":36},"end":{"row":46,"column":37}},"text":"a"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":46,"column":37},"end":{"row":46,"column":38}},"text":"t"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":46,"column":38},"end":{"row":46,"column":39}},"text":"i"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":46,"column":39},"end":{"row":46,"column":40}},"text":"s"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":46,"column":40},"end":{"row":46,"column":41}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":46,"column":41},"end":{"row":46,"column":42}},"text":"i"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":46,"column":42},"end":{"row":46,"column":43}},"text":"c"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":46,"column":43},"end":{"row":46,"column":44}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":46,"column":44},"end":{"row":46,"column":46}},"text":"()"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":46,"column":46},"end":{"row":46,"column":47}},"text":";"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":46,"column":45},"end":{"row":46,"column":46}},"text":"c"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":46,"column":46},"end":{"row":46,"column":47}},"text":"u"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":46,"column":47},"end":{"row":46,"column":48}},"text":"r"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":46,"column":48},"end":{"row":46,"column":49}},"text":"r"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":46,"column":49},"end":{"row":46,"column":50}},"text":"e"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":46,"column":50},"end":{"row":46,"column":51}},"text":"n"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":46,"column":51},"end":{"row":46,"column":52}},"text":"t"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":46,"column":52},"end":{"row":46,"column":53}},"text":"F"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":46,"column":45},"end":{"row":46,"column":53}},"text":"currentF"},{"action":"insertText","range":{"start":{"row":46,"column":45},"end":{"row":46,"column":57}},"text":"currentFloor"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":11,"column":20},"end":{"row":11,"column":21}},"text":" "}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":11,"column":19},"end":{"row":11,"column":20}},"text":"w"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":11,"column":18},"end":{"row":11,"column":19}},"text":"e"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":11,"column":17},"end":{"row":11,"column":18}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":11,"column":17},"end":{"row":11,"column":27}},"text":"Statistics"},{"action":"insertText","range":{"start":{"row":11,"column":17},"end":{"row":11,"column":18}},"text":"s"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":18},"end":{"row":11,"column":19}},"text":"t"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":19},"end":{"row":11,"column":20}},"text":"a"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":20},"end":{"row":11,"column":21}},"text":"t"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":21},"end":{"row":11,"column":22}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":1,"column":124},"end":{"row":1,"column":125}},"text":"s"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":1,"column":123},"end":{"row":1,"column":124}},"text":"c"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":1,"column":122},"end":{"row":1,"column":123}},"text":"i"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":1,"column":121},"end":{"row":1,"column":122}},"text":"t"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":1,"column":120},"end":{"row":1,"column":121}},"text":"s"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":1,"column":119},"end":{"row":1,"column":120}},"text":"i"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":1,"column":118},"end":{"row":1,"column":119}},"text":"t"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":1,"column":117},"end":{"row":1,"column":118}},"text":"a"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":1,"column":116},"end":{"row":1,"column":117}},"text":"t"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":1,"column":115},"end":{"row":1,"column":116}},"text":"S"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":1,"column":115},"end":{"row":1,"column":116}},"text":"s"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":1,"column":116},"end":{"row":1,"column":117}},"text":"t"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":1,"column":117},"end":{"row":1,"column":118}},"text":"a"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":1,"column":118},"end":{"row":1,"column":119}},"text":"t"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":1,"column":119},"end":{"row":1,"column":120}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":17},"end":{"row":11,"column":18}},"text":"n"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":18},"end":{"row":11,"column":19}},"text":"e"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":19},"end":{"row":11,"column":20}},"text":"w"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":20},"end":{"row":11,"column":21}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":11,"column":0},"end":{"row":11,"column":15}},"text":"Elevator.stats "},{"action":"insertText","range":{"start":{"row":11,"column":0},"end":{"row":11,"column":1}},"text":"v"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":1},"end":{"row":11,"column":2}},"text":"a"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":2},"end":{"row":11,"column":3}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":3},"end":{"row":11,"column":4}},"text":" "}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":4},"end":{"row":11,"column":5}},"text":"s"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":5},"end":{"row":11,"column":6}},"text":"t"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":6},"end":{"row":11,"column":7}},"text":"a"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":7},"end":{"row":11,"column":8}},"text":"t"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":8},"end":{"row":11,"column":9}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":9},"end":{"row":11,"column":10}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":11,"column":12},"end":{"row":11,"column":15}},"text":"new"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":11,"column":12},"end":{"row":11,"column":13}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":11,"column":4},"end":{"row":11,"column":9}},"text":"stats"},{"action":"insertText","range":{"start":{"row":11,"column":4},"end":{"row":11,"column":5}},"text":"x"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":8},"end":{"row":11,"column":9}},"text":"n"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":9},"end":{"row":11,"column":10}},"text":"e"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":10},"end":{"row":11,"column":11}},"text":"w"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":11},"end":{"row":11,"column":12}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":11,"column":12},"end":{"row":11,"column":17}},"text":"stats"},{"action":"insertText","range":{"start":{"row":11,"column":12},"end":{"row":11,"column":13}},"text":"S"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":13},"end":{"row":11,"column":14}},"text":"t"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":14},"end":{"row":11,"column":15}},"text":"a"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":15},"end":{"row":11,"column":16}},"text":"t"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":16},"end":{"row":11,"column":17}},"text":"i"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":17},"end":{"row":11,"column":18}},"text":"s"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":18},"end":{"row":11,"column":19}},"text":"t"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":19},"end":{"row":11,"column":20}},"text":"i"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":20},"end":{"row":11,"column":21}},"text":"c"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":21},"end":{"row":11,"column":22}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":11,"column":0},"end":{"row":11,"column":46}},"text":"var x = new Statistics(Elevator.currentFloor);"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":10,"column":30},"end":{"row":11,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":1,"column":115},"end":{"row":1,"column":120}},"text":"stats"},{"action":"insertText","range":{"start":{"row":1,"column":115},"end":{"row":1,"column":116}},"text":"S"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":1,"column":116},"end":{"row":1,"column":117}},"text":"t"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":1,"column":117},"end":{"row":1,"column":118}},"text":"a"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":1,"column":118},"end":{"row":1,"column":119}},"text":"t"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":1,"column":119},"end":{"row":1,"column":120}},"text":"i"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":1,"column":120},"end":{"row":1,"column":121}},"text":"s"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":1,"column":121},"end":{"row":1,"column":122}},"text":"t"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":1,"column":122},"end":{"row":1,"column":123}},"text":"i"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":1,"column":123},"end":{"row":1,"column":124}},"text":"c"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":1,"column":124},"end":{"row":1,"column":125}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":0,"column":0},"end":{"row":138,"column":0}},"nl":"\n","lines":["/*jshint esversion: 6 */","/*globals document, Image, console, randomValue, floors, drawElevator, person, elevator, setTimeout, isFloorValid, Statistics */","/// <reference path=\"elevator.js\" />","/// <reference path=\"floors.js\" />","/// <reference path=\"functions.js\" />","/// <reference path=\"person.js\" />","/// <reference path=\"stats.js\" />","","","","var Elevator = new Elevator();","var BuildImage = new Image();","BuildImage.src = \"images/Building.jpg\";","","function drawBuilding() {","\tlet canvas = document.getElementById(\"canvas\");","\tlet ctx = canvas.getContext(\"2d\");","\tctx.drawImage(BuildImage, 400, 20, 100, 100);","","\tctx.beginPath();","\tctx.save();","\tctx.clearRect(0, 0, canvas.width, canvas.height);","\tctx.rect(400, 20, 200, 550);","\tfor (let i = 0; i < 10; i++) {","\t\tctx.rect(480, 515 - (i * 55), 50, 55);","\t\tctx.font = \"16px Georgia\";","\t\tctx.fillText(i, 545, 545 - (i * 55));","\t}","\tctx.stroke();","\tctx.restore();","\tdrawElevator(Elevator.currentFloor);","}","","","function addPerson() {","    let currentFloor = document.getElementById(\"currentFloor\").value;","    let destinationFloor = document.getElementById(\"floorOut\").value;","","    if (!isNaN(currentFloor) && currentFloor !== \"\" && !isNaN(destinationFloor) && destinationFloor !== \"\") {","","        currentFloor = Number(currentFloor);","        destinationFloor = Number(destinationFloor);","","        if (isFloorValid(currentFloor) && isFloorValid(destinationFloor)) {","            let newPerson = new person(\"a\", currentFloor, destinationFloor);","            newPerson.stats = new Statistics(currentFloor);","            floors[currentFloor].addPerson(newPerson);","            callElevator(floors[currentFloor]);","        }","    }","","}","","function removePerson() {","\tlet currentFloor = document.getElementById(\"currentFloor\").value;","\tlet personFloorOut = document.getElementById(\"floorOut\").value;","","\tif (!isNaN(currentFloor) && currentFloor !== \"\" && !isNaN(personFloorOut) && personFloorOut !== \"\") {","","\t\tcurrentFloor = Number(currentFloor);","\t\tpersonFloorOut = Number(personFloorOut);","","\t\tif (isFloorValid(currentFloor) && isFloorValid(personFloorOut)) {","","\t\t\tif (floors[currentFloor].people.length > 0) {","\t\t\t\tfloors[currentFloor].people[0].floorOut = personFloorOut;","\t\t\t\tfloors[currentFloor].people[0].waiting = true;","\t\t\t\tcallElevator(floors[currentFloor]);","\t\t\t}","\t\t}","\t}","}","","function addRandomPerson() {","    let currentFloor = 0;","    let destinationFloor = 0;","    while (currentFloor === destinationFloor) {","        currentFloor = randomValue(9);","        destinationFloor = randomValue(9);","    }","","    let newPerson = new person(\"a\", currentFloor, destinationFloor);","    floors[currentFloor].addPerson(newPerson);","    callElevator(floors[currentFloor]);","}","","function callElevator(floor) {","\tElevator.addCalled(floor);","\tif (!ElevatorIsMoving)","\t\tmoveElevator();","}","","let previousFloor;","let ElevatorIsMoving = false;","","function moveElevator() {","\tconsole.log(Elevator.currentFloor + \" Elevator: \" + Elevator.people.length);","\t//drawBuilding();","\tdrawElevator(Elevator.currentFloor, previousFloor);","\t/*create a new function */","\tif (Elevator.wasCalled()) {","\t\tElevatorIsMoving = true;","\t\tpreviousFloor = Elevator.currentFloor;","\t\tElevator.reloadPeople();","\t\tElevator.moveNextFloor();","\t\tsetTimeout(moveElevator, 2000);","\t} else{ ","\t    ElevatorIsMoving = false;","\t   ","\t}","","\tdrawElevator(Elevator.currentFloor, previousFloor);","}","drawBuilding();","","function test() {","\t/*let canvas = document.getElementById(\"canvas\");","\tlet ctx = canvas.getContext(\"2d\");","\tctx.drawImage(BuildImage, 450, 100, 200, 400);*/","","\tlet newPerson = new person(\"a\", 2, 1);","\tfloors[2].addPerson(newPerson);","\tcallElevator(floors[2]);","","\tnewPerson = new person(\"a\", 4, 5);","\tfloors[4].addPerson(newPerson);","\tcallElevator(floors[4]);","\t","\t\tnewPerson = new person(\"a\", 3, 5);","\tfloors[3].addPerson(newPerson);","\tcallElevator(floors[3]);","\t","\t\tnewPerson = new person(\"a\", 4, 5);","\tfloors[4].addPerson(newPerson);","\tcallElevator(floors[4]);","","","}"]},{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":24}},"text":"/*jshint esversion: 6 */"},{"action":"insertText","range":{"start":{"row":0,"column":24},"end":{"row":1,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":1,"column":0},"end":{"row":133,"column":0}},"lines":["/*globals document, Image, console, randomValue, floors, drawElevator, person, elevator, setTimeout, isFloorValid */","/// <reference path=\"elevator.js\" />","/// <reference path=\"floors.js\" />","/// <reference path=\"functions.js\" />","/// <reference path=\"person.js\" />","","","","var Elevator = new Elevator();","var BuildImage = new Image();","BuildImage.src = \"images/Building.jpg\";","","function drawBuilding() {","\tlet canvas = document.getElementById(\"canvas\");","\tlet ctx = canvas.getContext(\"2d\");","\tctx.drawImage(BuildImage, 400, 20, 100, 100);","","\tctx.beginPath();","\tctx.save();","\tctx.clearRect(0, 0, canvas.width, canvas.height);","\tctx.rect(400, 20, 200, 550);","\tfor (let i = 0; i < 10; i++) {","\t\tctx.rect(480, 515 - (i * 55), 50, 55);","\t\tctx.font = \"16px Georgia\";","\t\tctx.fillText(i, 545, 545 - (i * 55));","\t}","\tctx.stroke();","\tctx.restore();","\tdrawElevator(Elevator.currentFloor);","}","","","function addPerson() {","    let currentFloor = document.getElementById(\"currentFloor\").value;","    let destinationFloor = document.getElementById(\"floorOut\").value;","","    if (!isNaN(currentFloor) && currentFloor !== \"\" && !isNaN(destinationFloor) && destinationFloor !== \"\") {","","        currentFloor = Number(currentFloor);","        destinationFloor = Number(destinationFloor);","","        if (isFloorValid(currentFloor) && isFloorValid(destinationFloor)) {","            let newPerson = new person(\"a\", currentFloor, destinationFloor);","            floors[currentFloor].addPerson(newPerson);","            callElevator(floors[currentFloor]);","        }","    }","","}","","function removePerson() {","\tlet currentFloor = document.getElementById(\"currentFloor\").value;","\tlet personFloorOut = document.getElementById(\"floorOut\").value;","","\tif (!isNaN(currentFloor) && currentFloor !== \"\" && !isNaN(personFloorOut) && personFloorOut !== \"\") {","","\t\tcurrentFloor = Number(currentFloor);","\t\tpersonFloorOut = Number(personFloorOut);","","\t\tif (isFloorValid(currentFloor) && isFloorValid(personFloorOut)) {","","\t\t\tif (floors[currentFloor].people.length > 0) {","\t\t\t\tfloors[currentFloor].people[0].floorOut = personFloorOut;","\t\t\t\tfloors[currentFloor].people[0].waiting = true;","\t\t\t\tcallElevator(floors[currentFloor]);","\t\t\t}","\t\t}","\t}","}","","function addRandomPerson() {","    let currentFloor = 0;","    let destinationFloor = 0;","    while (currentFloor === destinationFloor) {","        currentFloor = randomValue(9);","        destinationFloor = randomValue(9);","    }","","    let newPerson = new person(\"a\", currentFloor, destinationFloor);","    floors[currentFloor].addPerson(newPerson);","    callElevator(floors[currentFloor]);","}","","function callElevator(floor) {","\tElevator.addCalled(floor);","\tif (!ElevatorIsMoving)","\t\tmoveElevator();","}","","let previousFloor;","let ElevatorIsMoving = false;","","function moveElevator() {","\tconsole.log(Elevator.currentFloor + \" Elevator: \" + Elevator.people.length);","\t//drawBuilding();","\tdrawElevator(Elevator.currentFloor, previousFloor);","\t/*create a new function */","\tif (Elevator.wasCalled()) {","\t\tElevatorIsMoving = true;","\t\tpreviousFloor = Elevator.currentFloor;","\t\tElevator.reloadPeople();","\t\tElevator.moveNextFloor();","\t\tsetTimeout(moveElevator, 2000);","\t} else ElevatorIsMoving = false;","","\tdrawElevator(Elevator.currentFloor, previousFloor);","}","drawBuilding();","","function test() {","\t/*let canvas = document.getElementById(\"canvas\");","\tlet ctx = canvas.getContext(\"2d\");","\tctx.drawImage(BuildImage, 450, 100, 200, 400);*/","","\tlet newPerson = new person(\"a\", 2, 1);","\tfloors[2].addPerson(newPerson);","\tcallElevator(floors[2]);","","\tnewPerson = new person(\"a\", 4, 5);","\tfloors[4].addPerson(newPerson);","\tcallElevator(floors[4]);","\t","\t\tnewPerson = new person(\"a\", 3, 5);","\tfloors[3].addPerson(newPerson);","\tcallElevator(floors[3]);","\t","\t\tnewPerson = new person(\"a\", 4, 5);","\tfloors[4].addPerson(newPerson);","\tcallElevator(floors[4]);","","","}"]}]}]],"redo":[]},"/script/floors.js":{"scrollTop":0,"scrollLeft":0,"selection":{"start":{"row":12,"column":28},"end":{"row":12,"column":28}},"lastUse":1479251063555,"undo":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":27},"end":{"row":19,"column":28}},"text":","}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":28},"end":{"row":19,"column":29}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":29},"end":{"row":19,"column":30}},"text":"f"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":30},"end":{"row":19,"column":31}},"text":"a"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":31},"end":{"row":19,"column":32}},"text":"l"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":32},"end":{"row":19,"column":33}},"text":"s"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":33},"end":{"row":19,"column":34}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":19,"column":33},"end":{"row":19,"column":34}},"text":"e"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":19,"column":32},"end":{"row":19,"column":33}},"text":"s"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":19,"column":31},"end":{"row":19,"column":32}},"text":"l"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":19,"column":30},"end":{"row":19,"column":31}},"text":"a"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":19,"column":29},"end":{"row":19,"column":30}},"text":"f"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":29},"end":{"row":19,"column":30}},"text":"t"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":30},"end":{"row":19,"column":31}},"text":"r"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":31},"end":{"row":19,"column":32}},"text":"u"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":32},"end":{"row":19,"column":33}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":14,"column":27},"end":{"row":14,"column":28}},"text":","}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":14,"column":28},"end":{"row":14,"column":29}},"text":" "}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":14,"column":29},"end":{"row":14,"column":30}},"text":"f"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":14,"column":30},"end":{"row":14,"column":31}},"text":"a"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":14,"column":31},"end":{"row":14,"column":32}},"text":"l"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":14,"column":32},"end":{"row":14,"column":33}},"text":"s"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":14,"column":33},"end":{"row":14,"column":34}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":14,"column":29},"end":{"row":14,"column":34}},"text":"false"}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":14,"column":28},"end":{"row":14,"column":29}},"text":" "}]},{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":14,"column":27},"end":{"row":14,"column":28}},"text":","}]}]],"redo":[]},"/script/functions.js":{"scrollTop":0,"scrollLeft":0,"selection":{"start":{"row":0,"column":0},"end":{"row":0,"column":0}},"lastUse":1479248598098,"undo":[],"redo":[]},"/images/Building.jpg":{"scrollTop":0,"scrollLeft":0,"selection":{"start":{"row":0,"column":0},"end":{"row":0,"column":0}},"lastUse":1479094312441,"undo":[],"redo":[]},"/README.md":{"scrollTop":0,"scrollLeft":0,"selection":{"start":{"row":0,"column":0},"end":{"row":0,"column":0}},"lastUse":1479083762095,"undo":[],"redo":[]}}}